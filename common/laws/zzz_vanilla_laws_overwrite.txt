law_religious_schools = {
	group = lawgroup_education_system

	icon = "gfx/interface/icons/law_icons/religious_schools.dds"

	progressiveness = 25

	unlocking_technologies = {
		rationalism
	}

	disallowing_laws = {
		law_total_separation
		law_state_atheism
		law_serfdom
	}

	modifier = {
		country_institution_cost_institution_schools_mult = -0.2
	}

	is_visible = {
		NOT = { 
			has_law = law_type:law_TFA_hyanggyo
		}
	}

	institution = institution_schools
	institution_modifier = {
		state_conversion_mult = 0.2
		state_education_access_add = 0.1
		interest_group_ig_devout_pol_str_mult = 0.1
	}

	can_impose = {
		OR = {
			AND = {
				is_in_same_power_bloc = scope:target_country
				AND = {
					modifier:country_can_impose_same_lawgroup_education_system_in_power_bloc_bool = yes
					has_law = scope:law
				}
			}
			can_impose_law_default = yes
		}
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}

		if = {
			limit = {
				has_law_or_variant = law_type:law_no_schools
			}
			add = 500

			if = {
				limit = {
					OR = {
						has_journal_entry = je_sick_man_education
						has_journal_entry = je_terakoya
					}
				}
				add = 500
			}
		}
	}

	ai_impose_chance = {
		value = 0

		if = {
			limit = {
				has_law = law_type:law_religious_schools
				power_bloc ?= { has_principle_group = principle_group:principle_group_advanced_research }
			}
			add = base_impose_law_weight
		}

		if = {
			limit = {
				has_law = law_type:law_religious_schools
				scope:target_country = {
					has_law_or_variant = law_type:law_no_schools
				}
				power_bloc ?= { has_principle_group = principle_group:principle_group_advanced_research }
			}
			add = 10
		}

		if = {
			limit = {
				scope:target_country = {
					c:BIC ?= this
					OR = {
						has_journal_entry = je_british_dictate_plantations
						has_journal_entry = je_british_dictate_military
						has_journal_entry = je_british_dictate_universities
					}
				}
			}
			multiply = 0
		}
	}
}

law_oligarchy = {
	group = lawgroup_distribution_of_power

	icon = "gfx/interface/icons/law_icons/oligarchy.dds"

	progressiveness = -50

	is_visible = {
		OR = {
			NAND = {
				country_has_primary_culture = cu:romanian
				is_subject = yes
			}
			NOT = { 
				has_law = law_type:law_TFA_sedo
			}
		}
		
	}

	on_activate = {
		scripted_effect_parties_disappearence = yes
		if = {
			limit = {
				has_modifier = missouri_compromise
			}
			remove_modifier = missouri_compromise
		}
		clear_geheime_staatskonferenz = yes
	}

	modifier = {
		country_legitimacy_headofstate_add = 10
		country_legitimacy_govt_total_clout_add = 120
		country_legitimacy_govt_size_add = 2
		country_legitimacy_ideological_incoherence_mult = -0.1
		country_officers_pol_str_mult = 0.5
		country_aristocrats_pol_str_mult = 0.5
		country_capitalists_pol_str_mult = 0.25
		country_authority_add = 100
	}

	can_enact = {
		trigger_if = {
			limit = {
				c:BIC ?= ROOT
				is_subject = yes
				NOT = { has_law = scope:law }
			}
			custom_tooltip = {
				text = BIC_not_able_to_change_distribution_of_power_tt
				NOT = {
					c:BIC ?= ROOT
				}
			}
		}
	}

	can_impose = {
		OR = {
			AND = {
				is_in_same_power_bloc = scope:target_country
				AND = {
					modifier:country_can_impose_same_lawgroup_distribution_of_power_in_power_bloc_bool = yes
					has_law = scope:law
				}
			}
			can_impose_law_default = yes
		}
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}
	}

	ai_impose_chance = {
		value = 0

		if = {
			limit = {
				has_law = law_type:law_oligarchy
				OR = {
					AND = {
						power_bloc ?= { has_identity = identity:identity_ideological_union }
						has_strategy = ai_strategy_conservative_agenda
					}
					has_strategy = ai_strategy_reactionary_agenda
				}
				scope:target_country = {
					NOR = { # Is their law different enough from what we want to impose?
						has_law_or_variant = law_type:law_autocracy
						has_law_or_variant = law_type:law_landed_voting
					}
				}
			}

			add = base_impose_law_weight
		}

		if = {
			limit = {
				scope:target_country = {
					c:BIC ?= ROOT
					OR = {
						has_journal_entry = je_british_dictate_plantations
						has_journal_entry = je_british_dictate_military
						has_journal_entry = je_british_dictate_universities
					}
				}
			}
			multiply = 0
		}
	}
}

law_appointed_bureaucrats = {
	group = lawgroup_bureaucracy

	icon = "gfx/interface/icons/law_icons/appointed_bureaucrats.dds"

	progressiveness = 0

	is_visible = {
		NOT = { 
			has_law = law_type:law_TFA_gwageo
		}
	}

	modifier = {
		country_bureaucrats_pol_str_mult = 0.25
		state_tax_capacity_mult = 0.25
	}

	on_enact = {
		if = {
			limit = {
				has_law_or_variant = law_type:law_elected_bureaucrats
			}
			custom_tooltip = bureaucrats_pb_ig_shift_effect_negative_tt
		}
		if = {
			limit = {
				has_law_or_variant = law_type:law_hereditary_bureaucrats
			}
			custom_tooltip = urban_aristocrats_int_ig_shift_effect_negative_tt
		}
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}

		if = {
			limit = {
				OR = {
					has_journal_entry = je_sick_man_bureaucracy
					has_journal_entry = je_great_reforms_bureaucratic
				}
				has_law_or_variant = law_type:law_hereditary_bureaucrats
			}
			add = 1000
		}
	}
}

law_peasant_levies = {
	group = lawgroup_army_model
	icon = "gfx/interface/icons/law_icons/peasant_levies.dds"

	progressiveness = -50

	modifier = {
		country_can_only_conscript_peasants_bool = yes
		unit_morale_loss_mult = 0.1
		unit_experience_gain_mult = -0.25
		state_conscription_rate_add = 0.04
		country_aristocrats_pol_str_mult = 0.25
		country_military_goods_cost_mult = -0.1
		state_building_barracks_max_level_add = 25
		state_building_conscription_center_max_level_add = 25
	}

	is_visible = {
		NOT = { 
			has_law = law_type:law_TFA_gunyeok
		}
	}


	can_impose = {
		OR = {
			AND = {
				is_in_same_power_bloc = scope:target_country
				AND = {
					modifier:country_can_impose_same_lawgroup_army_model_in_power_bloc_bool = yes
					has_law = scope:law
				}
			}
			can_impose_law_default = yes
		}
	}

	on_enact = {
		custom_tooltip = QUALIFICATIONS_OFFICERS_PEASANT_LEVIES_DESC
		if = {
			limit = {
				NOT = {
					has_law_or_variant = law_type:law_peasant_levies
				}
			}
			custom_tooltip = aristocrats_af_ig_shift_effect_tt
		}
		if = {
			limit = {
				has_law_or_variant = law_type:law_professional_army
			}
			custom_tooltip = military_pops_af_ig_shift_effect_negative_tt
			custom_tooltip = non_military_pops_af_ig_shift_effect_negative_tt
		}
	}

	# AI will never return to peasant levies
	ai_will_do = {
		always = no
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}
	}
}

law_land_based_taxation = {
	group = lawgroup_taxation

	icon = "gfx/interface/icons/law_icons/land_based_taxation.dds"

	progressiveness = -50

	
	is_visible = {
		NOT = { 
			has_law = law_type:law_TFA_samse
		}
	}
	
	tax_modifier_very_low = {
		tax_consumption_add = 0.15
		tax_land_add = 0.40
	}

	tax_modifier_low = {
		tax_consumption_add = 0.20
		tax_land_add = 0.55
	}

	tax_modifier_medium = {
		tax_consumption_add = 0.25
		tax_land_add = 0.7
	}

	tax_modifier_high = {
		tax_consumption_add = 0.30
		tax_land_add = 0.85
	}

	tax_modifier_very_high = {
		tax_consumption_add = 0.35
		tax_land_add = 1.00
	}

	# AI shouldn't change to land based taxation from more advanced taxation forms
	ai_will_do = {
		has_law_or_variant = law_type:law_consumption_based_taxation
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}
	}
}


law_censorship = {
	group = lawgroup_free_speech
	icon = "gfx/interface/icons/law_icons/censorship.dds"

	progressiveness = 0

	is_visible = {
		NOT = { 
			has_law = law_type:law_TFA_sangso
		}
	}

	modifier = {
		country_authority_add = 100
		country_bolster_attraction_factor = 0.4
		country_suppression_attraction_factor = -0.4
		country_tech_spread_mult = -0.10
		country_leverage_resistance_mult = 0.25
		country_support_separatism_resistance_mult = 0.25
	}

	unlocking_technologies = {
		law_enforcement
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}
	}
}
